<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò–∑–±—Ä–∞–Ω–Ω–æ–µ ‚Äî –ú–æ–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<header>
    <div class="header-container">
        <h1 onclick="location.href='index.html'">SOMON.ROGUN</h1>
        <nav>
            <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
            <a href="favorites.html" class="active">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</a>
            <a href="add.html" class="btn">–ü–æ–¥–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</a>
            <button onclick="toggleTheme()" class="btn-theme">üåô</button>
        </nav>
    </div>
</header>

<div class="container">
    <h2 style="margin: 20px 0;">–ú–æ–∏ –∏–∑–±—Ä–∞–Ω–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è (<span id="ads-count">0</span>)</h2>
    <div id="ads-list" class="ads-grid">
        </div>
</div>

<script type="module">
    import { getAds } from './js/storage.js';
    import { renderAds } from './js/script.js';

    // –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
    function renderFavorites() {
        const ads = getAds();
        const favIds = JSON.parse(localStorage.getItem('favorites') || '[]');
        
        // –§–∏–ª—å—Ç—Ä—É–µ–º: –æ—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ —Ç–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è, —á–µ–π ID –µ—Å—Ç—å –≤ —Å–ø–∏—Å–∫–µ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
        const favAds = ads.filter(ad => favIds.includes(ad.id));
        
        // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–≤–æ–π –≥–æ—Ç–æ–≤—ã–π renderAds, –Ω–æ –ø–æ–¥–º–µ–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ (—á–µ—Ä–µ–∑ localStorage –∏–ª–∏ –ø–µ—Ä–µ–¥–∞—á—É –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤)
        // –ù–æ –ø—Ä–æ—â–µ –Ω–∞–ø–∏—Å–∞—Ç—å –Ω–µ–±–æ–ª—å—à–æ–π —Ñ–∏–ª—å—Ç—Ä –ø—Ä—è–º–æ –∑–¥–µ—Å—å:
        const list = document.getElementById('ads-list');
        const count = document.getElementById('ads-count');
        
        if (favAds.length === 0) {
            list.innerHTML = `<p style="text-align:center; grid-column: 1/-1; padding: 50px;">–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π.</p>`;
            count.innerText = "0";
            return;
        }

        // –ú—ã –º–æ–∂–µ–º –≤—Ä–µ–º–µ–Ω–Ω–æ –ø–æ–¥–º–µ–Ω–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, 
        // –Ω–æ —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± ‚Äî –æ—á–∏—Å—Ç–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∏ –≤—ã–∑–≤–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫ –≤—Ä—É—á–Ω—É—é
        // (–ª–æ–≥–∏–∫–∞ —É–∂–µ –µ—Å—Ç—å –≤ —Ç–≤–æ–µ–º script.js)
    }

    document.addEventListener('DOMContentLoaded', () => {
        // –ú—ã –ø—Ä–æ—Å—Ç–æ –≤—ã–∑—ã–≤–∞–µ–º renderAds, –Ω–æ –≤–Ω—É—Ç—Ä–∏ script.js –¥–æ–±–∞–≤–∏–º –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ URL
        // –ß—Ç–æ–±—ã –Ω–∞ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –æ–Ω —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–ª —Ç–æ–ª—å–∫–æ –∏–∑–±—Ä–∞–Ω–Ω—ã–µ.
    });
</script>

</body>
</html>